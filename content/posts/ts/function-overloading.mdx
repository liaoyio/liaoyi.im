---
title: ä» new Date å‡½æ•°ä¸­è®¤è¯†TSçš„å‡½æ•°é‡è½½
description: ä»åŸç”Ÿ JavaScript ä¸­çš„ new Date å‡½æ•°å¼•å‘å¯¹TSçš„å‡½æ•°é‡è½½çš„æ€è€ƒ ğŸ¤”ã€‚
date: 2024-03-18
tags: ['TypeScripts', 'Tips']
author: liaoyi
series: TypeScript
seriesPart: 2
---


åœ¨ JavaScript é‡Œé¢ï¼Œå½“æˆ‘ä»¬å»ä½¿ç”¨ä¸€äº›åŸç”Ÿå‡½æ•°çš„æ—¶å€™ï¼Œè¿™ä¸ªå‡½æ•°ç»å¸¸ä¼šæœ‰å¤šç§ç”¨æ³•ï¼Œæˆ‘ä»¬æ‹¿ `new Date` å‡½æ•°æ¥ä½œä¸ºä¾‹å­ï¼Œå®ƒå¯ä»¥ä¼ å…¥å„ç§å‚æ•°ï¼Œå¹¶ä¸”è¿˜æœ‰è¯¦ç»†çš„æç¤ºï¼Œå¦‚ä¸‹å›¾ï¼š


```ts twoslash
new Date()
```
![](./images/new_date_fn.gif)



ä½†æ˜¯åˆ°æˆ‘ä»¬è‡ªå·±å»å®ç°å°è£…ä¸€ä¸ªå‡½æ•°æ–¹æ³•çš„æ—¶å€™ï¼Œå°±å®Œå…¨ä¸ä¸€æ ·äº†ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬å¸Œæœ›å®ç°ä¸€ä¸ª `message` å·¥å…·æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ã€ä¸€ä¸ªå‡½æ•°ã€ä¹Ÿå¯ä»¥æœ‰å¤šç§ä¼ æ³•ï¼Œä»è€Œåœ¨ä½¿ç”¨çš„æ—¶å€™èƒ½å¤Ÿæ˜¾ç¤ºè¿™ä¸ªæ¶ˆæ¯ã€‚åœ¨å¼€å‘æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½å¾ˆå®¹æ˜“ä¼šæŠŠå‡½æ•°å®šä¹‰æˆä¸‹é¢çš„æ ·å­ï¼š

```ts twoslash lineNumbers
//  å‡½æ•°å£°æ˜
function message(
  params1: string | object,
  params2?: number | Function |string,
  params3?:  Function | string
):void {
  // å‡½æ•°å®ç°
}


// å‡½æ•°è°ƒç”¨
message({
  mode: 'mode',
  text: 'ç¡®è®¤',
  onClose: function(){},
  duration: 3000
})
message('text')

message('text', function(){})
message('text', 3000)

message('text', 'mode')
// @errors: 2345
message('text', 'mode', 3000)

message('text',3000, function(){})
```

+ å®ƒæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å¯ä»¥æ˜¯å¯¹è±¡ï¼Œå¯¹åº”çš„æ˜¯ç¬¬äºŒä¸ª 12ï½18 è¡Œä»£ç é‡Œï¼Œä¼ å…¥å¯¹è±¡å’Œå­—ç¬¦ä¸²çš„ä½¿ç”¨åœºæ™¯ã€‚
+ ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯ä»¥ä¸ä¼ ï¼Œå¦‚æœè¦ä¼ çš„è¯ï¼Œå¯ä»¥æ˜¯æ•°å­—ï¼Œä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ï¼Œå¯¹åº” 20ï½21 è¡Œä»£ç 
+ ä½†æ˜¯ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¹Ÿæ˜¯åŒç†
+ ...



æˆ‘ä»¬å…ˆä¸è¯´è¿™ä¸ªå‡½æ•°é‡Œè¾¹æ€ä¹ˆå®ç°ï¼Œå•ä»ä½¿ç”¨è€…çš„è§’åº¦è€Œè¨€ï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œæç¤ºå°±éå¸¸ä¸å‹å¥½äº†ï¼Œå®Œå…¨çœ‹ä¸å‡ºæ¥å…·ä½“è¯¥å¦‚æœä¼ é€’äº§æ•°ï¼š

```ts
function message(
  params1: string | object,
  params2?: number | Function | string,
  params3?: Function | string)
: void
```

å¯¹äºè¿™ç§éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ TS æ–¹æ³•é‡è½½çš„æ–¹å¼æ¥å®ç°ï¼Œå°±æ˜¯ä½ å£°æ˜è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œç›´æ¥äº†å½“çš„å‘Šè¯‰å®ƒï¼Œæœ‰å“ªäº›å‚æ•°ç»„åˆçš„æƒ…å†µï¼Œé‚£å¦‚ä½•å®ç°å‘¢ï¼Ÿåœ¨è¿™ä¸ªå‡½æ•°å®šä¹‰ä¹‹å‰ï¼ŒæŠŠå®ƒæ‰€æœ‰ä¼ é€’äº§æ•°çš„æƒ…å†µéƒ½å†™å‡ºæ¥ï¼Œå…ˆä¸ç€æ€¥å»å®ç°ï¼Œå…ˆå£°æ˜å°±è¡Œäº†ï¼š

```ts twoslash
//  å‡½æ•°å£°æ˜
function message(options: object): void
function message(text: string, onClose?: Function): void
function message(text: string, mode: string, duration?: number): void
function message(text: string, duration?: number, onClose?: Function): void

function message(
  params1: string | object,
  params2?: number | Function | string,
  params3?: Function | number
): void {
  // å‡½æ•°å®ç°
}

// å‡½æ•°è°ƒç”¨
message({
  mode: 'mode',
  text: 'ç¡®è®¤',
  onClose: function () {},
  duration: 3000
})

message('text')
message('text', function () {})
message('text', 'mode')
message('text', 'mode', 3000)
message('text', 3000)
message('text', 3000, function () {})

```



![(+3 overloads) è¡¨ç¤ºæœ‰ä¸‰ä¸ªå‡½æ•°é‡è½½å£°æ˜](./images/message_overloads.png)

![](./images/message_fn.gif)


è¿™æ˜¯ç›´æ¥å£°æ˜å‡½æ•°çš„æƒ…å†µï¼Œä½†æ˜¯æœ‰æ—¶å€™ï¼Œè¿™ä¸ªå‡½æ•°ä¸æ˜¯ç›´æ¥å£°æ˜çš„ï¼Œè€Œæ˜¯å†™åœ¨æŸä¸ªå¯¹è±¡çš„å±æ€§å€¼ä¸­çš„ï¼Œå¦‚ä¸‹ä»£ç ï¼š

```ts twoslash
const utils = {
  showMessage(
    params1: string | object,
    params2?: number | Function | string,
    params3?: Function | number
  ) {}
}

// å‡½æ•°è°ƒç”¨
utils.showMessage({
  mode: 'mode',
  text: 'ç¡®è®¤',
  onClose: function () {},
  duration: 3000
})

utils.showMessage('text')
utils.showMessage('text', function () {})
utils.showMessage('text', 'mode');
utils.showMessage('text', 'mode', 3000)
utils.showMessage('text', 3000);
utils.showMessage('text', 3000, function () {})
```



è¿™ç§æƒ…å†µæˆ‘ä»¬éœ€è¦ç¨å¾®ç»•ä¸€ä¸‹å¼¯ï¼š

+ å…ˆç»™ utils å¯¹è±¡å£°æ˜ä¸€ä¸‹ç±»å‹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª showMessage å±æ€§
+ å•ç‹¬ç»™  showMessage å£°æ˜ç±»å‹ï¼Œå®šä¹‰<u>æ¥å£ç”¨äºçº¦æŸå‡½æ•°è§„æ ¼</u>
+ ä½¿ç”¨å£°æ˜çš„ç±»å‹ï¼Œåˆ†åˆ«ç»™ utils å’Œ utils.showMessage çº¦æŸç±»å‹

```ts twoslash
interface ShowMessage {
  (options: object): void
  (text: string, onClose?: Function): void
  (text: string, mode: string, duration?: number): void
  (text: string, duration?: number, onClose?: Function): void
}

interface Utils {
  showMessage: ShowMessage
}

const utils:Utils = {
  showMessage(
    params1: string | object,
    params2?: number | Function | string,
    params3?: Function | number
  ):void {}
}

// å‡½æ•°è°ƒç”¨
utils.showMessage({
  mode: 'mode',
  text: 'ç¡®è®¤',
  onClose: function () {},
  duration: 3000
})

utils.showMessage('text')
utils.showMessage('text', function () {})
utils.showMessage('text', 'mode');
utils.showMessage('text', 'mode', 3000)
utils.showMessage('text', 3000)
utils.showMessage('text', 3000, function () {})
```

